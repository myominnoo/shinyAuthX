<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Authentication Management for Shiny Apps • shinyAuthX</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="User Authentication Management for Shiny Apps">
<meta property="og:description" content="Shiny modules that simplify user authentication 
    mechanisms for single shiny apps, offering a full suite of 
    sign-in, sign-up, sign-out, and password recovery features with
    modern UI designs that are compatible with `bslib` bootstrap themes. ">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">shinyAuthX</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/myominnoo/shinyAuthX/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="shinyauthx-">shinyAuthX <img src="reference/figures/logo.png" align="right" height="138"><a class="anchor" aria-label="anchor" href="#shinyauthx-"></a>
</h1></div>
<!-- badges: start -->

<div class="section level2">
<h2 id="simplify-user-authentication-in-shiny-apps-with-shinyauthx">Simplify User Authentication in Shiny Apps with <code>ShinyAuthX</code>
<a class="anchor" aria-label="anchor" href="#simplify-user-authentication-in-shiny-apps-with-shinyauthx"></a>
</h2>
<p><code>ShinyAuthX</code> is a powerful R package specifically designed for user authentication within Shiny apps. It provides a comprehensive suite of authentication features including user sign-in, sign-up, sign-out, and password recovery, seamlessly integrating user-friendly UI and Server components. It empowers shiny app developers to create secure and user-friendly authentication systems.</p>
<p><strong>Authentication Modules</strong>: The sign-in module (<code>signinUI</code>, <code>signinServer</code>) enables users to authenticate themselves securely, while the sign-up feature (<code>signupUI</code>, <code>signupServer</code>) allows for hassle-free registration and account creation. With the sign-out module (<code>signoutUI</code>, <code>signoutServer</code>), users can conveniently sign out from your application, ensuring their privacy and security. In the event of a forgotten password, the password recovery module (<code>forgotpwUI</code>, <code>forgotpwServer</code>) facilitates a straightforward and efficient recovery process.</p>
<p><strong>Password Encryption</strong>: Passwords are hashed using the <code>sodium</code> package, providing an additional layer of protection for user credentials. The source code of your main application is also protected until authentication is successful, ensuring that sensitive information remains secure.</p>
<p><strong>UI Integration</strong>: <code>ShinyAuthX</code>’s modern UI designs are carefully crafted to provide a visually appealing and intuitive authentication experience for your users. The compatibility with Bootstrap themes ensures seamless integration with your existing Shiny app design, maintaining a consistent and professional look and feel throughout.</p>
<p><strong>Data integration</strong>: Its flexibility in data storage options, both local and online database <code>MongoDB</code> using the <code>mongolite</code> package. This allows you to choose the database solution that best suits your application’s needs and infrastructure.</p>
<p><strong>Verification Code via Email</strong>: To further enhance the authentication experience, <code>shinyAuthX</code> leverages the <code>blastula</code> package to send custom emails, such as code verification during the sign-up process and password recovery emails. This ensures that users receive personalized and secure communications during critical steps of their authentication journey.</p>
<p>It’s important to note that currently, <code>shinyAuthX</code> supports only <code>MongoDB</code> for database connection. The signup and password recovery features are optimized for <code>MongoDB</code> usage, providing the best experience and performance in this setup.</p>
<p><strong>Let’s Get Started Today</strong>: Experience the power and simplicity of <code>ShinyAuthX</code>, the ultimate suite of modules for user authentication in Shiny apps. Unlock the full potential of secure and user-friendly authentication and elevate your Shiny applications to new heights.</p>
<p>Please feel free to reach out to us with any questions or concerns. We’re here to support you as you incorporate <code>shinyAuthX</code> into your Shiny apps.</p>
</div>
<div class="section level2">
<h2 id="demo-live">Demo Live!<a class="anchor" aria-label="anchor" href="#demo-live"></a>
</h2>
<p>[To add later]</p>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>You can install the development version of shinyAuthX from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"myominnoo/shinyAuthX"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="run-example-apps">Run example apps<a class="anchor" aria-label="anchor" href="#run-example-apps"></a>
</h2>
<p>Code for example apps in various contexts can be found in <a href="inst/examples">inst/examples</a>. You can launch these example apps with the <code>runExample</code> function.</p>
<p>You can use the following <code>user</code>/<code>password</code> pairs: - <code>admin</code>/<code>admin</code> - <code>user1</code>/<code>pass1</code> - <code>user2</code>/<code>pass2</code></p>
<p>See <code><a href="reference/create_dummy_users.html">?create_dummy_users</a></code> for dummy user credentials that are used in these examples.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>  <span class="fu"><a href="reference/runExample.html">runExample</a></span><span class="op">(</span><span class="st">"basic-signin"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="reference/runExample.html">runExample</a></span><span class="op">(</span><span class="st">"basic-signin-mongodb"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="reference/runExample.html">runExample</a></span><span class="op">(</span><span class="st">"basic-signin-theme"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="reference/runExample.html">runExample</a></span><span class="op">(</span><span class="st">"basic-signup"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="reference/runExample.html">runExample</a></span><span class="op">(</span><span class="st">"signup-pw-reset"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="reference/runExample.html">runExample</a></span><span class="op">(</span><span class="st">"test-app"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The package provides four module functions with corresponding UI and server elements:</p>
<ul>
<li>sign-in: <code>signinUI</code>, <code>signinServer</code>
</li>
<li>sign-out: <code>signoutUI</code>, <code>signoutServer</code>
</li>
<li>sign-up: <code>signupUI</code>, <code>signupServer</code>
</li>
<li>password recovery: <code>forgotpwUI</code>, <code>forgotpwServer</code>
</li>
</ul>
<div class="section level3">
<h3 id="basic-sign-in-and-sign-out-authentications">Basic sign-in and sign-out authentications<a class="anchor" aria-label="anchor" href="#basic-sign-in-and-sign-out-authentications"></a>
</h3>
<p>Below is a minimal reproducible example of how to use basic authentications in a shiny app. The code sets up a Shiny app with user authentication, allowing users to sign in, sign out, and view their user data.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/myominnoo/shinyAuthX" class="external-link">shinyAuthX</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># dataframe that holds usernames, passwords and other user data</span></span>
<span><span class="va">users_base</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_dummy_users.html">create_dummy_users</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>    <span class="co"># add signout button UI</span></span>
<span>    <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"pull-right"</span>, <span class="fu"><a href="reference/signoutUI.html">signoutUI</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"signout"</span><span class="op">)</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="co"># add signin panel UI function without signup or password recovery panel</span></span>
<span>  <span class="fu"><a href="reference/signinUI.html">signinUI</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"signin"</span>, .add_forgotpw <span class="op">=</span> <span class="cn">FALSE</span>, .add_btn_signup <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="co"># setup output to show user info after signin</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">verbatimTextOutput</a></span><span class="op">(</span><span class="st">"user_data"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Export reactive values for testing</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/exportTestValues.html" class="external-link">exportTestValues</a></span><span class="op">(</span></span>
<span>        auth_status <span class="op">=</span> <span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">user_auth</span>,</span>
<span>        auth_info   <span class="op">=</span> <span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">info</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>    <span class="co"># call the signout module with reactive trigger to hide/show</span></span>
<span>    <span class="va">signout_init</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/signoutServer.html">signoutServer</a></span><span class="op">(</span></span>
<span>        id <span class="op">=</span> <span class="st">"signout"</span>,</span>
<span>        active <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">user_auth</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>  <span class="co"># call signin module supplying data frame,</span></span>
<span>  <span class="va">credentials</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/signinServer.html">signinServer</a></span><span class="op">(</span></span>
<span>    id <span class="op">=</span> <span class="st">"signin"</span>,</span>
<span>    users_db <span class="op">=</span> <span class="va">users_base</span>,</span>
<span>    sodium_hashed <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    reload_on_signout <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    signout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="fu">signout_init</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">user_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderPrint</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="co"># use req to only render results when credentials()$user_auth is TRUE</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/req.html" class="external-link">req</a></span><span class="op">(</span><span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">user_auth</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-mongodb-via-mongolite">Using mongodb via <code>mongolite</code>
<a class="anchor" aria-label="anchor" href="#using-mongodb-via-mongolite"></a>
</h3>
<p>The following code demonstrates how to integrate user authentication and authorization features into a Shiny application using <code>shinyAuthX</code> and a <code>MongoDB</code> database. It establishes a connection to <code>MongoDB</code>, initializes the database with dummy user data, defines the application’s UI, implements the server logic for sign-in and sign-out functionality, and renders user information based on authentication status. The code serves as a foundation for building secure and authenticated Shiny applications with <code>MongoDB</code> as the user data storage backend.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jeroen/mongolite/" class="external-link">mongolite</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/myominnoo/shinyAuthX" class="external-link">shinyAuthX</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## default mongodb database server for testing: works only with `mtcars`</span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mongolite/man/mongo.html" class="external-link">mongo</a></span><span class="op">(</span><span class="st">"mtcars"</span>, url <span class="op">=</span> <span class="st">"mongodb+srv://readwrite:test@cluster0-84vdt.mongodb.net/test"</span><span class="op">)</span></span>
<span><span class="co">## remove any existing rows</span></span>
<span><span class="va">con</span><span class="op">$</span><span class="fu">drop</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">## check</span></span>
<span><span class="va">con</span><span class="op">$</span><span class="fu">count</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add users_base to con</span></span>
<span><span class="fu"><a href="reference/create_dummy_users.html">create_dummy_users</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="va">con</span><span class="op">$</span><span class="fu">insert</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">con</span><span class="op">$</span><span class="fu">count</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>    <span class="co"># add signout button UI</span></span>
<span>    <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"pull-right"</span>, <span class="fu"><a href="reference/signoutUI.html">signoutUI</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"signout"</span><span class="op">)</span><span class="op">)</span>,</span>
<span></span>
<span>    <span class="co"># add signin panel UI function without signup or password recovery panel</span></span>
<span>    <span class="fu"><a href="reference/signinUI.html">signinUI</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"signin"</span>, .add_forgotpw <span class="op">=</span> <span class="cn">FALSE</span>, .add_btn_signup <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span></span>
<span>    <span class="co"># setup output to show user info after signin</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">verbatimTextOutput</a></span><span class="op">(</span><span class="st">"user_data"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Export reactive values for testing</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/exportTestValues.html" class="external-link">exportTestValues</a></span><span class="op">(</span></span>
<span>        auth_status <span class="op">=</span> <span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">user_auth</span>,</span>
<span>        auth_info   <span class="op">=</span> <span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">info</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>    <span class="co"># call the signout module with reactive trigger to hide/show</span></span>
<span>    <span class="va">signout_init</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/signoutServer.html">signoutServer</a></span><span class="op">(</span></span>
<span>        id <span class="op">=</span> <span class="st">"signout"</span>,</span>
<span>        active <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">user_auth</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>    <span class="co"># call signin module supplying data frame,</span></span>
<span>    <span class="va">credentials</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/signinServer.html">signinServer</a></span><span class="op">(</span></span>
<span>        id <span class="op">=</span> <span class="st">"signin"</span>,</span>
<span>        users_db <span class="op">=</span> <span class="va">con</span><span class="op">$</span><span class="fu">find</span><span class="op">(</span><span class="st">'{}'</span><span class="op">)</span>, <span class="co">## add mongodb connection instead of tibble</span></span>
<span>        sodium_hashed <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        reload_on_signout <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>        signout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="fu">signout_init</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">user_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderPrint</a></span><span class="op">(</span><span class="op">{</span></span>
<span>        <span class="co"># use req to only render results when credentials()$user_auth is TRUE</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/req.html" class="external-link">req</a></span><span class="op">(</span><span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">user_auth</span><span class="op">)</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="extended-sign-up-and-password-reset-modules">Extended Sign-up and Password-reset modules<a class="anchor" aria-label="anchor" href="#extended-sign-up-and-password-reset-modules"></a>
</h3>
<p>The extended code below demonstrates the integration of sign-up and password-reset features into a Shiny application with user authentication and authorization. It leverages the <code>shinyAuthX</code> package and a <code>MongoDB</code> database to store and manage user data. The application allows users to sign up, sign in, reset their passwords, and view user information upon authentication. The code serves as a foundation for developing more comprehensive and secure web applications with user management capabilities.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jeroen/mongolite/" class="external-link">mongolite</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/myominnoo/shinyAuthX" class="external-link">shinyAuthX</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## default mongodb database server for testing: works only with `mtcars`</span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mongolite/man/mongo.html" class="external-link">mongo</a></span><span class="op">(</span><span class="st">"mtcars"</span>, url <span class="op">=</span> <span class="st">"mongodb+srv://readwrite:test@cluster0-84vdt.mongodb.net/test"</span><span class="op">)</span></span>
<span><span class="co">## remove any existing rows</span></span>
<span><span class="va">con</span><span class="op">$</span><span class="fu">drop</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">## check</span></span>
<span><span class="va">con</span><span class="op">$</span><span class="fu">count</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add users_base to con</span></span>
<span><span class="fu"><a href="reference/create_dummy_users.html">create_dummy_users</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="va">con</span><span class="op">$</span><span class="fu">insert</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">con</span><span class="op">$</span><span class="fu">count</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>    <span class="co"># add signout button UI</span></span>
<span>    <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"pull-right"</span>, <span class="fu"><a href="reference/signoutUI.html">signoutUI</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"signout"</span><span class="op">)</span><span class="op">)</span>,</span>
<span></span>
<span>    <span class="co"># add signin panel UI function with signup panel</span></span>
<span>    <span class="fu"><a href="reference/signinUI.html">signinUI</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"signin"</span>, .add_forgotpw <span class="op">=</span> <span class="cn">TRUE</span>, .add_btn_signup <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="co"># add signup panel</span></span>
<span>    <span class="fu"><a href="reference/signupUI.html">signupUI</a></span><span class="op">(</span><span class="st">"signup"</span><span class="op">)</span>,</span>
<span>    <span class="co"># add password-reset panel</span></span>
<span>    <span class="fu"><a href="reference/forgotpwUI.html">forgotpwUI</a></span><span class="op">(</span><span class="st">"pw-reset"</span><span class="op">)</span>,</span>
<span></span>
<span>    <span class="co"># setup output to show user info after signin</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">verbatimTextOutput</a></span><span class="op">(</span><span class="st">"user_data"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Export reactive values for testing</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/exportTestValues.html" class="external-link">exportTestValues</a></span><span class="op">(</span></span>
<span>        auth_status <span class="op">=</span> <span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">user_auth</span>,</span>
<span>        auth_info   <span class="op">=</span> <span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">info</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>    <span class="co"># call the signout module with reactive trigger to hide/show</span></span>
<span>    <span class="va">signout_init</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/signoutServer.html">signoutServer</a></span><span class="op">(</span></span>
<span>        id <span class="op">=</span> <span class="st">"signout"</span>,</span>
<span>        active <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">user_auth</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>    <span class="co"># call signin module supplying data frame,</span></span>
<span>    <span class="va">credentials</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/signinServer.html">signinServer</a></span><span class="op">(</span></span>
<span>        id <span class="op">=</span> <span class="st">"signin"</span>,</span>
<span>        users_db <span class="op">=</span> <span class="va">con</span><span class="op">$</span><span class="fu">find</span><span class="op">(</span><span class="st">'{}'</span><span class="op">)</span>, <span class="co">## add mongodb connection instead of tibble</span></span>
<span>        sodium_hashed <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        reload_on_signout <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>        signout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="fu">signout_init</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>    <span class="co"># call signup module supplying credentials() reactive and mongodb</span></span>
<span>    <span class="fu"><a href="reference/signupServer.html">signupServer</a></span><span class="op">(</span></span>
<span>        id <span class="op">=</span> <span class="st">"signup"</span>, credentials <span class="op">=</span> <span class="va">credentials</span>, mongodb <span class="op">=</span> <span class="va">con</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="co"># call password-reset module supplying credentials() reactive and mongodb</span></span>
<span>    <span class="fu"><a href="reference/forgotpwServer.html">forgotpwServer</a></span><span class="op">(</span></span>
<span>        id <span class="op">=</span> <span class="st">"pw-reset"</span>, credentials <span class="op">=</span> <span class="va">credentials</span>, mongodb <span class="op">=</span> <span class="va">con</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">user_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderPrint</a></span><span class="op">(</span><span class="op">{</span></span>
<span>        <span class="co"># use req to only render results when credentials()$user_auth is TRUE</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/req.html" class="external-link">req</a></span><span class="op">(</span><span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">user_auth</span><span class="op">)</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu">credentials</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="todo">TODO:<a class="anchor" aria-label="anchor" href="#todo"></a>
</h2>
<ol style="list-style-type: decimal">
<li>add demo shiny apps hosted on shinyapps.io</li>
<li>add runExample().</li>
<li>add examples for each use case
<ol style="list-style-type: decimal">
<li>simple user signin</li>
<li>user signin with data.frame</li>
<li>user signin with mongolite</li>
<li>user signup with mongolite</li>
<li>user signup with mongolite plus email option [just codes; not run]</li>
</ol>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="credits">Credits:<a class="anchor" aria-label="anchor" href="#credits"></a>
</h2>
<p>We would like to extend our sincere gratitude and acknowledgments to the following individuals for their contributions to the development of <code>shinyAuthX</code>:</p>
<ul>
<li>Paul Campbell: The author of the <code>shinyauthr</code> package, from which we borrowed the <code>login</code> and <code>logout</code> module functions (<code>loginUI()</code>, <code>loginServer()</code>, <code>logoutUI()</code>, <code>logoutServer()</code>). Paul’s work and dedication have significantly influenced the functionality and usability of <code>shinyAuthX</code>.</li>
</ul>
<p>We would also like to specifically credit the following individuals for their contributions to the cookie-based authentication aspect of <code>shinyAuthX</code>:</p>
<ul>
<li><p>Michael Dewar: His expertise and contributions have played a crucial role in shaping the implementation of the cookie-based authentication mechanism in <code>shinyAuthX</code>. His insights have greatly enhanced the security and functionality of this feature.</p></li>
<li><p>Calligross: Their valuable input and contributions have contributed to the development and improvement of the cookie-based authentication functionality in <code>shinyauthr</code>.</p></li>
</ul>
<p>For further information about their specific roles and contributions, we recommend visiting the <a href="https://github.com/PaulC91/shinyauthr" class="external-link"><code>shinyauthr</code></a> GitHub page, where you can find additional details about the original package and its contributors.</p>
</div>
<div class="section level2">
<h2 id="disclaimer">Disclaimer:<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h2>
<p>It is important to note that the security of any authentication system is a complex matter, and while we have taken great care in developing <code>shinyAuthX</code>, we cannot guarantee its foolproof security. The authentication process provided by <code>shinyAuthX</code> should be used with caution, and we strongly recommend implementing additional security measures based on your specific requirements. We endorse Paul Campbell’s disclaimer statement regarding the security risks associated with the package. Please use <code>shinyAuthX</code> at your own risk.</p>
<p>We are grateful for the contributions and support from all the individuals mentioned above, as well as the wider community that has provided feedback and suggestions to help improve <code>shinyAuthX</code>. Thank you for your valuable contributions and continued support!</p>
</div>
<div class="section level2">
<h2 id="related-work">Related work<a class="anchor" aria-label="anchor" href="#related-work"></a>
</h2>
<p>Both package <a href="https://github.com/PaulC91/shinyauthr" class="external-link"><code>shinyauthr</code></a> and <a href="https://github.com/datastorm-open/shinymanager/" class="external-link">shinymanager</a> provide a nice shiny module to add an authentication layer to your shiny apps.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/myominnoo/shinyAuthX/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing shinyAuthX</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Myo Minn Oo <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-4089-016X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=shinyAuthX" class="external-link"><img src="https://www.r-pkg.org/badges/version/shinyAuthX" alt="CRAN status"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://github.com/myominnoo/shinyAuthX/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/myominnoo/shinyAuthX/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/myominnoo/shinyAuthX?branch=main" class="external-link"><img src="https://codecov.io/gh/myominnoo/shinyAuthX/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Myo Minn Oo.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
